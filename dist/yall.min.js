/* yall.js v2.2.2 */
var yall=function(){"use strict";function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}return function(e){var t={intersectionObserverSupport:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,mutationObserverSupport:"MutationObserver"in window,idleCallbackSupport:"requestIdleCallback"in window,eventsToBind:[[document,"scroll"],[document,"touchmove"],[window,"resize"],[window,"orientationchange"]]},o=_extends({lazyClass:"lazy",lazyBackgroundClass:"lazy-bg",lazyBackgroundLoaded:"lazy-bg-loaded",throttleTime:200,idlyLoad:!1,idleLoadTimeout:100,threshold:200,observeChanges:!1,observeRootSelector:"body",mutationObserverOptions:{childList:!0,subtree:!0}},e),r="img."+o.lazyClass+",video."+o.lazyClass+",iframe."+o.lazyClass+",."+o.lazyBackgroundClass,n={timeout:o.idleLoadTimeout},a=function(e){return[].slice.call(e)},l=function yallLoad(e,r,l){if(void 0===r&&(r=0),void 0===l&&(l=[]),e)if(e.classList.contains("is-lazyloaded")){if(l.length>0&&r<l.length){var s=r+1;yallLoad(l[s],s,l)}}else{if("IMG"===e.tagName){var c=e.parentNode;"PICTURE"===c.tagName&&a(c.querySelectorAll("source")).forEach(function(e){return i(e)}),i(e),e.classList.remove(o.lazyClass),e.classList.add("is-lazyloading"),e.addEventListener("load",function(){if(e.classList.remove("is-lazyloading"),e.classList.add("is-lazyloaded"),l.length>0&&r<l.length){var a=r+1;!0===o.idlyLoad&&!0===t.idleCallbackSupport?requestIdleCallback(function(){yallLoad(l[a],a,l)},n):yallLoad(l[a],a,l)}})}"VIDEO"===e.tagName&&(a(e.querySelectorAll("source")).forEach(function(e){return i(e)}),i(e),!0===e.autoplay&&e.load()),"IFRAME"===e.tagName&&i(e),e.classList.contains(o.lazyBackgroundClass)&&(e.classList.remove(o.lazyBackgroundClass),e.classList.add(o.lazyBackgroundLoaded))}},i=function(e){null!==e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset")),null!==e.getAttribute("data-src")&&e.setAttribute("src",e.getAttribute("data-src")),null!==e.getAttribute("data-poster")&&e.setAttribute("poster",e.getAttribute("data-poster"))},s=function yallBack(){var e=!1;!1===e&&c.length>0&&(e=!0,setTimeout(function(){c.forEach(function(e){e.getBoundingClientRect().top<=window.innerHeight+o.threshold&&e.getBoundingClientRect().bottom>=-o.threshold&&"none"!==getComputedStyle(e).display&&(!0===o.idlyLoad&&!0===t.idleCallbackSupport?requestIdleCallback(function(){l(e)},n):l(e),c=c.filter(function(t){return t!==e}))}),e=!1,0===c.length&&!1===o.observeChanges&&t.eventsToBind.forEach(function(e){return e[0].removeEventListener(e[1],yallBack)})},o.throttleTime))},c=a(document.querySelectorAll(r));if(!0===t.intersectionObserverSupport){var u=new IntersectionObserver(function(e,r){e.forEach(function(e){if(!0===e.isIntersecting||e.intersectionRatio>0){var a=e.target;!0===o.idlyLoad&&!0===t.idleCallbackSupport?requestIdleCallback(function(){return l(a)},n):l(a),r.unobserve(a),c=c.filter(function(e){return e!==a})}})},{rootMargin:o.threshold+"px 0%"});c.forEach(function(e){u.observe(e)})}else t.eventsToBind.forEach(function(e){return e[0].addEventListener(e[1],s)}),s();!0===t.mutationObserverSupport&&!0===o.observeChanges&&new MutationObserver(function(e){e.forEach(function(){a(document.querySelectorAll(r)).forEach(function(e){-1===c.indexOf(e)&&(c.push(e),!0===t.intersectionObserverSupport?u.observe(e):s())})}),!0===o.idlyLoad&&!0===t.idleCallbackSupport?requestIdleCallback(function(){l(a(document.querySelectorAll(r))[0],0,a(document.querySelectorAll(r)))},n):l(a(document.querySelectorAll(r))[0],0,a(document.querySelectorAll(r)))}).observe(document.querySelector(o.observeRootSelector),o.mutationObserverOptions),!0===o.idlyLoad&&!0===t.idleCallbackSupport?requestIdleCallback(function(){l(c[0],0,c)},n):l(c[0],0,c)}}();
